**Mermaid.js Flowchart Wizard â€“ Development Guidelines**

---

#### ğŸ¯ **Project Objective**

Build a modern, responsive web application using **Tailwind CSS** that enables users to:

1. **Input** a flowchart definition using **Mermaid.js syntax**
2. **Preview** the rendered diagram in real time
3. **Export & Share** the diagram as PNG or SVG

The app will follow a **3-step wizard** pattern:
`Step 1: Input â†’ Step 2: Preview â†’ Step 3: Export`

---

### ğŸ§± **Technology Stack**

* **Frontend**: HTML, JavaScript (Vanilla or Alpine.js if needed), Tailwind CSS
* **Diagram Engine**: [Mermaid.js](https://mermaid-js.github.io/)
* **Export Tools**:

  * For SVG: Native export from `mermaid`
  * For PNG: Use libraries like `html-to-image`, `dom-to-image`, or `canvg`
* **Editor**: Simple `<textarea>` or optionally `CodeMirror`/`Monaco` for enhanced UX

---

### ğŸ“ **Project Structure**

```bash
mermaid-wizard/
â”œâ”€â”€ index.html
â”œâ”€â”€ /assets
â”‚   â”œâ”€â”€ styles.css
â”‚   â””â”€â”€ logo.svg
â”œâ”€â”€ /js
â”‚   â”œâ”€â”€ app.js
â”‚   â”œâ”€â”€ mermaid-preview.js
â”‚   â””â”€â”€ export-utils.js
â””â”€â”€ /lib
    â””â”€â”€ mermaid.min.js
```

---

### ğŸ¨ **UI/UX Structure (3-Step Wizard)**

1. **Step 1: Input Mermaid Code**

   * Textarea (or code editor) for Mermaid syntax input.
   * â€œNextâ€ button to preview.

2. **Step 2: Preview Diagram**

   * Render Mermaid diagram in a `<div id="mermaid-preview">`.
   * â€œBackâ€ to edit, â€œNextâ€ to export.

3. **Step 3: Export / Share**

   * Options to download as **PNG** or **SVG**.
   * Buttons: â€œBackâ€, â€œCopy Linkâ€, â€œDownload Imageâ€.

#### ğŸª„ UI Components (Tailwind Guidelines)

* Rounded corners (`rounded-2xl`)
* Shadow (`shadow-md` or `shadow-lg`)
* Utility-first layout (`grid`, `flex`, `space-y-*`)
* Responsive by default (`sm:`, `md:`, `lg:` breakpoints)
* Light and dark themes optional

---

### âš™ï¸ **Functional Requirements**

* **Live Preview**: After input, parse and render using `mermaid.render()`
* **Safe Rendering**: Sanitize input or catch Mermaid parsing errors
* **Image Export**:

  * Rendered SVG can be directly downloaded
  * PNG generated by converting SVG/DOM using canvas
* **Shareable Output** (optional):

  * Store Mermaid code in URL hash or base64 param
  * On page load, decode and pre-fill editor

---

### ğŸ§ª **Testing Checklist**

* [ ] Handle large or invalid Mermaid definitions
* [ ] Cross-browser compatibility: Chrome, Firefox, Safari
* [ ] Export buttons functional on all platforms
* [ ] Ensure image quality on high DPI screens

---

### ğŸ›¡ **Security & Accessibility**

* Sanitize Mermaid input to avoid script injection
* Use proper `aria-*` attributes for navigation buttons
* Ensure keyboard accessibility for editor and steps

---

### ğŸš§ **Before Deployment**

* [ ] Optimize bundle size (remove unused Tailwind classes)
* [ ] Add favicon and meta tags
* [ ] Ensure Mermaid JS loads in offline mode
* [ ] Provide a few predefined templates/examples
